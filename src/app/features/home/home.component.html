<app-loading *ngIf="loading"></app-loading>

<div class="container py-3">
  <h4 class="title">Pokedex</h4>
  
  <div class="search d-flex justify-content-between">
    <div class="child d-flex">
      <img src="assets/images/pokeball.svg" width="30" alt="">
      <input type="search" 
             class="form-control  search-input"
             placeholder="Search for a pokemon">
    </div>

    <div class="child">
      <img src="assets/images/tabla-active.svg" alt="table" 
             class="mx-2 pointer" 
             (click)="seeAsTable = true"
             *ngIf="!seeAsTable">
    
      <img src="assets/images/grid-active.svg" alt="cards" 
             class="pointer"
             (click)="seeAsTable = false"
             *ngIf="seeAsTable">

    </div>
  </div>
  
  <div class="mt-3">
    @if (pokemonResponse) {
      @if (seeAsTable) {
        <app-pokemon-table [pokemons]="pokemonResponse.results">
        </app-pokemon-table>
      }
      @else {
        <div class="parent mt-3">
          @for (pokemon of pokemonResponse.results; track $index) {
            <div class="child">
              <app-pokemon-card [pokemon]="pokemon">
              </app-pokemon-card>
            </div>
          }
        </div>
      }
      <div [ngClass]="{'my-4': !seeAsTable }">
        <app-pagination [total]="pagination.total"
                        [pageSize]="pagination.pageSize"
                        (paginationChange)="onPaginationChange($event)">
        </app-pagination>
      </div>
    }  
  </div>
</div>